{% macro simple(paginator, component_name) %}
    {% if paginator.nbPages > 1 %}
        <ul class="pagination m-0">
            {# Previous page #}
            {% if paginator.hasPreviousPage %}
                <li class="page-item">
                    <button type="button" class="page-link"
                            data-action="live#action"
                            data-live-action-param="changePage"
                            data-live-page-param="{{ paginator.previousPage }}">
                        {{ ux_icon('tabler:chevron-left') }} {{ 'app.ui.previous'|trans }}
                    </button>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link">
                        {{ ux_icon('tabler:chevron-left') }} {{ 'app.ui.previous'|trans }}
                    </span>
                </li>
            {% endif %}

            {# Page numbers #}
            {% set startPage = paginator.currentPage - 2 %}
            {% set endPage = paginator.currentPage + 2 %}

            {% if startPage < 1 %}
                {% set startPage = 1 %}
                {% set endPage = (5 < paginator.nbPages) ? 5 : paginator.nbPages %}
            {% endif %}

            {% if endPage > paginator.nbPages %}
                {% set endPage = paginator.nbPages %}
                {% set startPage = (paginator.nbPages - 4 > 0) ? paginator.nbPages - 4 : 1 %}
            {% endif %}

            {% if startPage > 1 %}
                <li class="page-item">
                    <button type="button" class="page-link"
                            data-action="live#action"
                            data-live-action-param="changePage"
                            data-live-page-param="1">1</button>
                </li>
                {% if startPage > 2 %}
                    <li class="page-item disabled"><span class="page-link">&hellip;</span></li>
                {% endif %}
            {% endif %}

            {% for page in startPage..endPage %}
                {% if page == paginator.currentPage %}
                    <li class="page-item active" aria-current="page">
                        <span class="page-link">{{ page }}</span>
                    </li>
                {% else %}
                    <li class="page-item">
                        <button type="button" class="page-link"
                                data-action="live#action"
                                data-live-action-param="changePage"
                                data-live-page-param="{{ page }}">{{ page }}</button>
                    </li>
                {% endif %}
            {% endfor %}

            {% if endPage < paginator.nbPages %}
                {% if endPage < paginator.nbPages - 1 %}
                    <li class="page-item disabled"><span class="page-link">&hellip;</span></li>
                {% endif %}
                <li class="page-item">
                    <button type="button" class="page-link"
                            data-action="live#action"
                            data-live-action-param="changePage"
                            data-live-page-param="{{ paginator.nbPages }}">{{ paginator.nbPages }}</button>
                </li>
            {% endif %}

            {# Next page #}
            {% if paginator.hasNextPage %}
                <li class="page-item">
                    <button type="button" class="page-link"
                            data-action="live#action"
                            data-live-action-param="changePage"
                            data-live-page-param="{{ paginator.nextPage }}">
                        {{ 'app.ui.next'|trans }} {{ ux_icon('tabler:chevron-right') }}
                    </button>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link">
                        {{ 'app.ui.next'|trans }} {{ ux_icon('tabler:chevron-right') }}
                    </span>
                </li>
            {% endif %}
        </ul>
    {% endif %}
{% endmacro %}

{% macro results_count(paginator) %}
    {% set from = 1 + (paginator.currentPage - 1) * paginator.maxPerPage %}
    {% set to = paginator.maxPerPage + (paginator.currentPage - 1) * paginator.maxPerPage %}
    {% set to = to < paginator.nbResults ? to : paginator.nbResults %}

    {{ 'sylius.ui.pagination.number_of_results'|trans({'%from%': from, '%to%': to, '%total%': paginator.nbResults}) }}
{% endmacro %}

{% macro number_of_results_selector(paginator, pagination_limits, component_name) %}
    {% set other_pagination_limits = pagination_limits|filter(limit => limit != paginator.maxPerPage) %}

    {% if other_pagination_limits is not empty %}
        <div class="dropdown">
            <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown">
                {{ 'sylius.ui.show'|trans }} {{ paginator.maxPerPage }}
            </button>
            <div class="dropdown-menu dropdown-menu-end">
                {% for limit in other_pagination_limits %}
                    <button type="button" class="dropdown-item"
                            data-action="live#action"
                            data-live-action-param="changeLimit"
                            data-live-limit-param="{{ limit }}">{{ limit }}</button>
                {% endfor %}
            </div>
        </div>
    {% else %}
        <button type="button" class="btn btn-ghost-secondary dropdown-toggle" disabled>
            {{ 'sylius.ui.show'|trans }} {{ paginator.maxPerPage }}
        </button>
    {% endif %}
{% endmacro %}
